<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/html">
<head th:replace="fragments.html :: head"></head>
<body>
    <div th:replace="fragments.html :: nav"></div>
    <div th:replace="fragments.html :: sidebar"></div>


    <div class="hero">
        <img th:if="${#strings.isEmpty(quest.questImage)}" src="/assets/img/logo.png" alt="Profile">
        <img th:if="${!#strings.isEmpty(quest.questImage)}" th:src="${quest.questImage}" alt="Profile">
        <h3 class="text1" th:text="${quest.questTitle}"></h3>
        <h3 class="text2"><span th:text="${quest.questStartTime}"></span> ~ <span th:text="${quest.questEndTime}"></span></h3>
        <a href="#about" th:if="${!quest.isJoinable(#authentication.principal)}" class="btn-get-started scrollto">멤버
            초대</a>
        <a href="#about" th:if="${quest.isJoinable(#authentication.principal)}"
           th:href="@{'/quest/' + ${quest.questUrl} + '/join'}" class="btn-get-started scrollto">퀘스트 가입</a>
    </div>

    <main id="main" class="main">

     <div>
         <div sec:authorize="isAuthenticated()" class="card" style="margin-top: -30px">
            <div class="card-body">
              <h5 class="card-title">회원목록</h5>
                <a href="#about" th:each="member: ${quest.questMember}" th:href="@{'/profile/' + ${member.getNickname()}}">
              <span>
                  <img th:if="${#strings.isEmpty(member.profileImage)}" src="/assets/img/logo.png" alt="Profile"
                       class="rounded-circle" style="width: 30px; height: 30px">
                  <img th:if="${!#strings.isEmpty(member.profileImage)}" th:src="${member.profileImage}" alt="Profile"
                 class="rounded-circle" style="width: 30px; height: 30px">
                  <span class="badge bg-primary" th:text="${member.nickname}"></span>
              </span>
                </a>
            </div>
         </div>

         <button  sec:authorize="isAuthenticated()"
                  th:if="${quest.questMaster == member.nickname && quest.isMember(#authentication.principal)}" class="btn-get-started scrollto" role="group">
                    <a th:href="@{'/quest/' + ${quest.questUrl} + '/update'}">퀘스트 수정</a>
         </button>

         <button  sec:authorize="isAuthenticated()"
                  th:if="${quest.isMember(#authentication.principal)}" class="btn-get-started scrollto" role="group">
                    <a th:href="@{'/quest/' + ${quest.questUrl} + '/withdraw'}">퀘스트 탈퇴</a>
         </button>

         <button sec:authorize="isAuthenticated()"
                 th:if="${quest.isMember(#authentication.principal)}" class="btn-get-started scrollto" role="group">
             <a th:href="@{'/quest/' + ${quest.questUrl} + '/post'}">포스팅하기</a>
         </button>

         <button sec:authorize="isAuthenticated()"
                 th:if="${quest.questMaster == member.nickname && quest.isMember(#authentication.principal)}" class="btn-get-started scrollto" role="group">
             <a th:href="@{'/quest/' + ${quest.questUrl} + '/post/notice'}">공지사항 포스팅하기</a>
         </button>

         <div class="row">


             <div class="col-xl-12">
                 <div class="card">
                     <div class="card-body">
                         <h5 class="card-title"></h5>
                         <ul class="nav nav-tabs d-flex" id="myTabjustified" role="tablist">
                             <li class="nav-item flex-fill" role="presentation">
                                 <button class="nav-link w-100 active" id="home-tab" data-bs-toggle="tab"
                                         data-bs-target="#home-justified" type="button" role="tab" aria-controls="home"
                                         aria-selected="true">커뮤니티</button>
                             </li>
                             <li class="nav-item flex-fill" role="presentation">
                                 <button class="nav-link w-100" id="profile-tab" data-bs-toggle="tab"
                                         data-bs-target="#profile-justified" type="button" role="tab"
                                         aria-controls="profile" aria-selected="false">인증
                                 </button>
                             </li>
                             <li class="nav-item flex-fill" role="presentation">
                                 <button class="nav-link w-100" id="contact-tab" data-bs-toggle="tab"
                                         data-bs-target="#contact-justified" type="button" role="tab"
                                         aria-controls="contact" aria-selected="false">랭킹
                                 </button>
                             </li>
                         </ul>

                         <div class="tab-content pt-2" id="myTabjustifiedContent">
                             <div class="tab-pane fade show active" id="home-justified" role="tabpanel"
                                  aria-labelledby="home-tab">
                                 Sunt est soluta temporibus accusantium neque nam maiores cumque temporibus. Tempora
                                 libero non est unde veniam est qui dolor. Ut sunt iure rerum quae quisquam autem
                                 <div class="row portfolio-container">
                                     <h1>------------시작-------------</h1>
                                     <h1>여기는 공지사항 존</h1>
                                     <h1>여기는 공지사항 존</h1>
                                     <div sec:authorize="isAuthenticated()" th:each="questPost: ${questPostList}"
                                          th:if="${questPost.notice} == true"
                                          class="col-lg-4 col-md-6 portfolio-item filter-web wow fadeInUp"
                                          data-wow-delay="0.1s">
                                         <div class="portfolio-wrap">
                                             <figure>
                                                 <img src="/assets/img/logo.png" class="img-fluid" alt="">
                                                 <a th:href="@{'/quest/' + ${quest.questUrl} + '/post/' + ${questPost.id}}"
                                                    href="assets/img/portfolio/portfolio-2.jpg"
                                                    class="link-preview portfolio-lightbox"
                                                    data-gallery="portfolioGallery" title="Preview"><i
                                                         class="bx bx-plus"></i></a>
                                                 <a href="portfolio-details.html" class="link-details"
                                                    title="More Details"><i
                                                         class="bx bx-link"></i></a>
                                             </figure>

                                             <div class="portfolio-info">
                                                 <p th:text="${questPost.title}"></p>
                                                 <p th:text="${questPost.writer.nickname}"></p>
                                                 <p th:text="${questPost.content}"></p>
                                             </div>
                                         </div>
                                     </div>
                                     <h1>여기는 공지사항 존</h1>
                                     <h1>여기는 공지사항 존</h1>
                                     <h1>-------------끝------------</h1>

                                 </div>

                                 <div class="row portfolio-container">

                                     <div sec:authorize="isAuthenticated()" th:each="questPost: ${questPostList}"
                                          th:if="${questPost.notice} == false"
                                          class="col-lg-4 col-md-6 portfolio-item filter-web wow fadeInUp"
                                          data-wow-delay="0.1s">
                                         <div class="portfolio-wrap">
                                             <figure>
                                                 <img src="/assets/img/logo.png" class="img-fluid" alt="">
                                                 <a th:href="@{'/quest/' + ${quest.questUrl} + '/post/' + ${questPost.id}}"
                                                    href="assets/img/portfolio/portfolio-2.jpg"
                                                    class="link-preview portfolio-lightbox"
                                                    data-gallery="portfolioGallery" title="Preview"><i
                                                         class="bx bx-plus"></i></a>
                                                 <a href="portfolio-details.html" class="link-details"
                                                    title="More Details"><i
                                                         class="bx bx-link"></i></a>
                                             </figure>

                                             <div class="portfolio-info">
                                                 <p th:text="${questPost.title}"></p>
                                                 <p th:text="${questPost.writer.nickname}"></p>
                                                 <p th:text="${questPost.content}"></p>
                                             </div>
                                         </div>
                                     </div>

                                 </div>
                             </div>
                             <div class="tab-pane fade" id="profile-justified" role="tabpanel"
                                  aria-labelledby="profile-tab">
                                 Nesciunt totam et. Consequuntur magnam aliquid eos nulla dolor iure eos quia.
                                 Accusantium distinctio omnis et atque fugiat. Itaque doloremque aliquid sint quasi quia
                                 distinctio similique. Voluptate nihil recusandae mollitia dolores. Ut laboriosam
                                 voluptatum dicta.
                             </div>
                             <div class="tab-pane fade" id="contact-justified" role="tabpanel"
                                  aria-labelledby="contact-tab">
                                 Saepe animi et soluta ad odit soluta sunt. Nihil quos omnis animi debitis cumque.
                                 Accusantium quibusdam perspiciatis qui qui omnis magnam. Officiis accusamus impedit
                                 molestias nostrum veniam. Qui amet ipsum iure. Dignissimos fuga tempore dolor.
                             </div>
                         </div><!-- End Default Tabs -->

                     </div>
                 </div>


             </div>

         </div>

        <div class="py-5 text-center" sec:authorize="isAuthenticated()">
            <h1>
                <h1 th:text="${member.nickname}"></h1>
                <h1 th:text="${quest.questMaster}"></h1>
                <h1 th:text="${quest.questUrl}"></h1>
                <h1 th:text="${quest.questTitle}"></h1>
                <h1 th:text="${quest.questIntroduce}"></h1>
                <h1 th:text="${quest.questExplain}"></h1>
                <h1 th:text="${quest.questStartTime}"></h1>
                <h1 th:text="${quest.questEndTime}"></h1>
                <h1 th:text="${quest.questMember[0].nickname}"></h1>
                <h1 th:text="${quest.questMember[0].email}"></h1>
                <h1>dwdw</h1><h1 th:text="${quest.questMember[0].address}">우왕</h1>
            </h1>
        </div>








    </div>
    </main>

</body>
    <script src="/assets/js/main.js"></script>
    <script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
</html>